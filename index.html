

<!DOCTYPE html>

<html data-theme="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>to-do MEK | All-in-One</title>
<style>
    :root {
      --color-light-bg: #ffffff;
      --color-light-text: #111111;
      --color-dark-bg: #111111;
      --color-dark-text: #ffffff;
      --color-accent: #f1c40f;
    }
    [data-theme="light"] {
      --bg: var(--color-light-bg);
      --text: var(--color-light-text);
    }
    [data-theme="dark"] {
      --bg: var(--color-dark-bg);
      --text: var(--color-dark-text);
    }

    body {
      background-color: var(--bg);
      color: var(--text);
      font-family: 'Segoe UI', Tahoma, sans-serif;
      margin: 0;
      padding: 0;
      transition: background 0.3s, color 0.3s;
    }

    .header {
      background-color: var(--color-accent);
      color: #111;
      padding: 20px;
      text-align: center;
    }

    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: var(--color-accent);
      color: #111;
      padding: 10px 16px;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    .tabs {
      display: none;
      flex-direction: column;
      padding: 20px;
    }

    .tab-buttons {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    .tab-buttons button {
      background-color: #444;
      color: #fff;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }

    .tab {
      display: none;
    }

    .active {
      display: block;
    }

    .task-box {
      max-width: 600px;
      margin: auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 10px;
    }

    input[type="text"], input[type="email"], input[type="date"] {
      width: calc(100% - 20px);
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    button.add-btn {
      padding: 10px 20px;
      background-color: var(--color-accent);
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      margin-bottom: 10px;
    }

    ul {
      padding-left: 20px;
    }

    li {
      margin-bottom: 6px;
      display: flex;
      justify-content: space-between;
    }

    .delete-btn {
      background: red;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 4px 10px;
      cursor: pointer;
    }

    .login {
      padding: 50px;
      max-width: 400px;
      margin: 60px auto;
    }

    .login input {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    .login button {
      width: 100%;
      padding: 10px;
      background-color: var(--color-accent);
      border: none;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }

    .user-info {
      text-align: center;
      margin-bottom: 20px;
      font-weight: bold;
    }
  </style>
<!-- Firebase App (core) -->
<script src="https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js"></script>
<!-- Firebase Firestore -->
<script src="https://www.gstatic.com/firebasejs/11.10.0/firebase-firestore.js"></script>
<!-- Firebase Config -->
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBT7H0k34FsgMsCPWUAIs9e_6g_PkNkkgs",
    authDomain: "to-do-mek.firebaseapp.com",
    projectId: "to-do-mek",
    storageBucket: "to-do-mek.firebasestorage.app",
    messagingSenderId: "436508646106",
    appId: "1:436508646106:web:c2d0393d96c795d43423e3",
    measurementId: "G-F6ZZRR16NF"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
</script>
</head>
<body>
<button class="theme-toggle" onclick="toggleTheme()">üåì</button>
<div class="header">
<h1>to-do MEK</h1>
</div>
<div class="login" id="loginScreen">
<h2>Login</h2>
<input id="firstname" placeholder="First Name" type="text"/>
<input id="lastname" placeholder="Last Name" type="text"/>
<input id="email" placeholder="Email (Gmail only)" type="email"/>
<button onclick="login()">Login</button>
</div>
<div class="tabs" id="taskTabs">
<div class="user-info" id="welcomeMessage"></div>
<div class="tab-buttons">
<button onclick="showTab('daily')">üìÖ Daily</button>
<button onclick="showTab('weekly')">üóìÔ∏è Weekly</button>
<button onclick="showTab('monthly')">üìÜ Monthly</button>
<button onclick="showTab('yearly')">üìà Yearly</button>
</div>
<div class="tab active" id="daily">
<div class="task-box">
<h2>üìÖ Daily Tasks</h2>
<input id="dailyDate" type="date"/>
<input id="dailyInput" placeholder="Add a task" type="text"/>
<button class="add-btn" onclick="addTask('daily')">Add</button>
<ul id="dailyList"></ul>
</div>
</div>
<div class="tab" id="weekly">
<div class="task-box">
<h2>üóìÔ∏è Weekly Tasks</h2>
<input id="weeklyDate" type="date"/>
<input id="weeklyInput" placeholder="Add a task" type="text"/>
<button class="add-btn" onclick="addTask('weekly')">Add</button>
<ul id="weeklyList"></ul>
</div>
</div>
<div class="tab" id="monthly">
<div class="task-box">
<h2>üìÜ Monthly Tasks</h2>
<input id="monthlyDate" type="date"/>
<input id="monthlyInput" placeholder="Add a task" type="text"/>
<button class="add-btn" onclick="addTask('monthly')">Add</button>
<ul id="monthlyList"></ul>
</div>
</div>
<div class="tab" id="yearly">
<div class="task-box">
<h2>üìà Yearly Tasks</h2>
<input id="yearlyDate" type="date"/>
<input id="yearlyInput" placeholder="Add a task" type="text"/>
<button class="add-btn" onclick="addTask('yearly')">Add</button>
<ul id="yearlyList"></ul>
</div>
</div>
</div>
<script>
    function toggleTheme() {
      const html = document.documentElement;
      const current = html.getAttribute('data-theme');
      const newTheme = current === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
    }

    function login() {
      const firstname = document.getElementById("firstname").value;
      const lastname = document.getElementById("lastname").value;
      const email = document.getElementById("email").value;
      if (firstname && lastname && email.includes("@gmail.com")) {
        const fullName = firstname + " " + lastname;
        localStorage.setItem("mekUser", fullName);
        localStorage.setItem("mekEmail", email);
        document.getElementById("welcomeMessage").textContent = `Welcome, ${fullName} (${email})`;
        document.getElementById("loginScreen").style.display = "none";
        document.getElementById("taskTabs").style.display = "flex";
      } else {
        alert("Please enter valid name and Gmail.");
      }
    }

    function showTab(tab) {
      document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
      document.getElementById(tab).classList.add("active");
    }

    function addTask(type) {
      const input = document.getElementById(type + "Input");
      const date = document.getElementById(type + "Date").value;
      const list = document.getElementById(type + "List");
      
        if (input.value.trim() !== "") {
          const li = document.createElement("li");
          li.textContent = `${date ? "[" + date + "] " : ""}${input.value}`;
          list.appendChild(li);

          // Firestore'a g√∂rev kaydƒ±
          db.collection("tasks").add({
              type: type,
              date: date,
              task: input.value,
              email: localStorage.getItem("mekEmail"),
              timestamp: new Date()
          }).then(() => {
              console.log("G√∂rev Firebase'e eklendi.");
          }).catch((error) => {
              console.error("G√∂rev Firebase'e eklenemedi:", error);
          });

          input.value = "";
        }
        
        li.innerHTML = `${date ? "[" + date + "] " : ""}${input.value} <button class='delete-btn' onclick='this.parentNode.remove()'>üóëÔ∏è</button>`;
        list.appendChild(li);
        input.value = "";
      }
    }

    window.onload = () => {
      const savedTheme = localStorage.getItem('theme') || 'light';
      document.documentElement.setAttribute('data-theme', savedTheme);
      const user = localStorage.getItem("mekUser");
      const email = localStorage.getItem("mekEmail");
      if (user && email) {
        document.getElementById("loginScreen").style.display = "none";
        document.getElementById("taskTabs").style.display = "flex";
        document.getElementById("welcomeMessage").textContent = `Welcome, ${user} (${email})`;
      }
    };
  

        // Firebase'e kullanƒ±cƒ± bilgisi g√∂nder
        db.collection("users").add({
            firstname: firstname,
            lastname: lastname,
            email: email,
            timestamp: new Date()
        }).then(() => {
            console.log("Kullanƒ±cƒ± Firebase'e eklendi.");
        }).catch((error) => {
            console.error("Firebase'e eklenemedi:", error);
        });
        </script>
</body>
</html>
